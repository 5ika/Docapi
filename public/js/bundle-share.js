function toMarkdown(){if(preview){var e=editeur.getValue().length;1e4>e?md():waitForConvert||(waitForConvert=!0,setTimeout(function(){waitForConvert=!1,md()},1500))}}function md(){var e="";""!==$("#title").val()&&(e="# "+$("#title").val()+"\n");var t=e+editeur.getValue();t=t.replace(/(<script>)/gi,"[Javascript]\n"),t=t.replace(/(<\/script>)/gi,"\n[/Javascript]");var a=marked(t);$("#view").html(a)}function togglePreview(){preview?($("#editor").addClass("m12").removeClass("m6"),$("#view").hide(),$(".fa-eye-slash").removeClass("fa-eye-slash").addClass("fa-eye")):($("#editor").addClass("m6").removeClass("m12"),$("#view").show(),$(".fa-eye").removeClass("fa-eye").addClass("fa-eye-slash"),md()),preview=!preview}function toggleNumberedTitles(){$("#view").toggleClass("numbered-view")}function toggleFullscreen(){editeur.getOption("fullScreen")?editeur.setOption("fullScreen",!1):editeur.setOption("fullScreen",!0),$(".btn-fullscreen-disable").toggleClass("hide")}function parameters(){"none"==$("#modal-parameters").css("display")?$("#modal-parameters").openModal():$("#modal-parameters").closeModal()}function getTags(){var e=$("#tags").val(),t=e.split(/[,;] */);return t.join(", ")}var toast=Materialize.toast,preview=!1,lastContent="",waitForConvert=!1,editeur;$(document).ready(function(){$(".modal-trigger").leanModal(),$(".link-"+id).addClass("active"),toMarkdown(),editeur=CodeMirror.fromTextArea($("textarea")[0]),editeur.on("change",toMarkdown),window.setInterval(function(){""!==$("#title").val()&&""!==$("#content").val()&&send()},6e4)}),$("textarea").keydown(function(e){if(9===e.keyCode){var t=this.selectionStart,a=this.selectionEnd,r=$(this),i=r.val();r.val(i.substring(0,t)+"	"+i.substring(a)),this.selectionStart=this.selectionEnd=t+1,e.preventDefault()}}),$(document).keydown(function(e){if(console.log(e.keyCode),e.ctrlKey){switch(e.keyCode){case 83:send();break;case 79:togglePreview();break;case 80:toggleFullscreen()}e.preventDefault()}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvb2xzLmpzIl0sIm5hbWVzIjpbInRvTWFya2Rvd24iLCJwcmV2aWV3IiwiY2hhckNvdW50IiwiZWRpdGV1ciIsImdldFZhbHVlIiwibGVuZ3RoIiwibWQiLCJ3YWl0Rm9yQ29udmVydCIsInNldFRpbWVvdXQiLCJ0aXRyZSIsIiQiLCJ2YWwiLCJjb250ZW50IiwicmVwbGFjZSIsIm1kQ29udGVudCIsIm1hcmtlZCIsImh0bWwiLCJ0b2dnbGVQcmV2aWV3IiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImhpZGUiLCJzaG93IiwidG9nZ2xlTnVtYmVyZWRUaXRsZXMiLCJ0b2dnbGVDbGFzcyIsInRvZ2dsZUZ1bGxzY3JlZW4iLCJnZXRPcHRpb24iLCJzZXRPcHRpb24iLCJwYXJhbWV0ZXJzIiwiY3NzIiwib3Blbk1vZGFsIiwiY2xvc2VNb2RhbCIsImdldFRhZ3MiLCJ0YWdzU3RyaW5nIiwidGFncyIsInNwbGl0Iiwiam9pbiIsInRvYXN0IiwiTWF0ZXJpYWxpemUiLCJsYXN0Q29udGVudCIsImRvY3VtZW50IiwicmVhZHkiLCJsZWFuTW9kYWwiLCJpZCIsIkNvZGVNaXJyb3IiLCJmcm9tVGV4dEFyZWEiLCJvbiIsIndpbmRvdyIsInNldEludGVydmFsIiwic2VuZCIsImtleWRvd24iLCJlIiwia2V5Q29kZSIsInN0YXJ0IiwidGhpcyIsInNlbGVjdGlvblN0YXJ0IiwiZW5kIiwic2VsZWN0aW9uRW5kIiwiJHRoaXMiLCJ2YWx1ZSIsInN1YnN0cmluZyIsInByZXZlbnREZWZhdWx0IiwiY29uc29sZSIsImxvZyIsImN0cmxLZXkiXSwibWFwcGluZ3MiOiJBQXNCQSxRQUFBQSxjQUNBLEdBQUFDLFFBQUEsQ0FDQSxHQUFBQyxHQUFBQyxRQUFBQyxXQUFBQyxNQUNBLEtBQUFILEVBQUFJLEtBQ0FDLGlCQUNBQSxnQkFBQSxFQUNBQyxXQUFBLFdBQ0FELGdCQUFBLEVBQ0FELE1BQ0EsUUFLQSxRQUFBQSxNQUNBLEdBQUFHLEdBQUEsRUFDQSxNQUFBQyxFQUFBLFVBQUFDLFFBQUFGLEVBQUEsS0FBQUMsRUFBQSxVQUFBQyxNQUFBLEtBQ0EsSUFBQUMsR0FBQUgsRUFBQU4sUUFBQUMsVUFFQVEsR0FBQUEsRUFBQUMsUUFBQSxlQUFBLGtCQUNBRCxFQUFBQSxFQUFBQyxRQUFBLGlCQUFBLGtCQUNBLElBQUFDLEdBQUFDLE9BQUFILEVBQ0FGLEdBQUEsU0FBQU0sS0FBQUYsR0FHQSxRQUFBRyxpQkFDQWhCLFNBQ0FTLEVBQUEsV0FBQVEsU0FBQSxPQUFBQyxZQUFBLE1BQ0FULEVBQUEsU0FBQVUsT0FDQVYsRUFBQSxpQkFBQVMsWUFBQSxnQkFBQUQsU0FBQSxZQUdBUixFQUFBLFdBQUFRLFNBQUEsTUFBQUMsWUFBQSxPQUNBVCxFQUFBLFNBQUFXLE9BQ0FYLEVBQUEsV0FBQVMsWUFBQSxVQUFBRCxTQUFBLGdCQUNBWixNQUVBTCxTQUFBQSxRQUdBLFFBQUFxQix3QkFDQVosRUFBQSxTQUFBYSxZQUFBLGlCQUdBLFFBQUFDLG9CQUNBckIsUUFBQXNCLFVBQUEsY0FDQXRCLFFBQUF1QixVQUFBLGNBQUEsR0FDQXZCLFFBQUF1QixVQUFBLGNBQUEsR0FDQWhCLEVBQUEsMkJBQUFhLFlBQUEsUUFHQSxRQUFBSSxjQUNBLFFBQUFqQixFQUFBLHFCQUFBa0IsSUFBQSxXQUNBbEIsRUFBQSxxQkFBQW1CLFlBQ0FuQixFQUFBLHFCQUFBb0IsYUFHQSxRQUFBQyxXQUNBLEdBQUFDLEdBQUF0QixFQUFBLFNBQUFDLE1BQ0FzQixFQUFBRCxFQUFBRSxNQUFBLFNBQ0EsT0FBQUQsR0FBQUUsS0FBQSxNQWxGQSxHQUFBQyxPQUFBQyxZQUFBRCxNQUNBbkMsU0FBQSxFQUNBcUMsWUFBQSxHQUNBL0IsZ0JBQUEsRUFDQUosT0FFQU8sR0FBQTZCLFVBQUFDLE1BQUEsV0FDQTlCLEVBQUEsa0JBQUErQixZQUNBL0IsRUFBQSxTQUFBZ0MsSUFBQXhCLFNBQUEsVUFDQWxCLGFBR0FHLFFBQUF3QyxXQUFBQyxhQUFBbEMsRUFBQSxZQUFBLElBQ0FQLFFBQUEwQyxHQUFBLFNBQUE3QyxZQUdBOEMsT0FBQUMsWUFBQSxXQUNBLEtBQUFyQyxFQUFBLFVBQUFDLE9BQUEsS0FBQUQsRUFBQSxZQUFBQyxPQUNBcUMsUUFDQSxPQW1FQXRDLEVBQUEsWUFBQXVDLFFBQUEsU0FBQUMsR0FFQSxHQUFBLElBQUFBLEVBQUFDLFFBQUEsQ0FDQSxHQUFBQyxHQUFBQyxLQUFBQyxlQUNBQyxFQUFBRixLQUFBRyxhQUNBQyxFQUFBL0MsRUFBQTJDLE1BQ0FLLEVBQUFELEVBQUE5QyxLQUNBOEMsR0FBQTlDLElBQUErQyxFQUFBQyxVQUFBLEVBQUFQLEdBQUEsSUFBQU0sRUFBQUMsVUFDQUosSUFDQUYsS0FBQUMsZUFBQUQsS0FBQUcsYUFBQUosRUFBQSxFQUNBRixFQUFBVSxvQkFHQWxELEVBQUE2QixVQUFBVSxRQUFBLFNBQUFDLEdBRUEsR0FEQVcsUUFBQUMsSUFBQVosRUFBQUMsU0FDQUQsRUFBQWEsUUFBQSxDQUNBLE9BQUFiLEVBQUFDLFNBRUEsSUFBQSxJQUNBSCxNQUNBLE1BRUEsS0FBQSxJQUNBL0IsZUFDQSxNQUNBLEtBQUEsSUFDQU8sbUJBR0EwQixFQUFBVSIsImZpbGUiOiJidW5kbGUtc2hhcmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdG9hc3QgPSBNYXRlcmlhbGl6ZS50b2FzdDtcbnZhciBwcmV2aWV3ID0gZmFsc2U7XG52YXIgbGFzdENvbnRlbnQgPSBcIlwiO1xudmFyIHdhaXRGb3JDb252ZXJ0ID0gZmFsc2U7XG52YXIgZWRpdGV1cjtcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICQoJy5tb2RhbC10cmlnZ2VyJykubGVhbk1vZGFsKCk7XG4gICQoJy5saW5rLScgKyBpZCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICB0b01hcmtkb3duKCk7XG5cbiAgLy8gSW5pdGlhbGlzYWlvbiBkZSBsJ8OpZGl0ZXVyXG4gIGVkaXRldXIgPSBDb2RlTWlycm9yLmZyb21UZXh0QXJlYSgkKFwidGV4dGFyZWFcIilbMF0pO1xuICBlZGl0ZXVyLm9uKFwiY2hhbmdlXCIsIHRvTWFya2Rvd24pO1xuXG4gIC8vIFNhdXZlZ2FyZGUgYXV0b21hdGlxdWUgdG91dGVzIGxlcyBtaW51dGVzXG4gIHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICBpZiAoJCgnI3RpdGxlJykudmFsKCkgIT09IFwiXCIgJiYgJCgnI2NvbnRlbnQnKS52YWwoKSAhPT0gXCJcIilcbiAgICAgIHNlbmQoKTtcbiAgfSwgNjAwMDApO1xufSk7XG5cbmZ1bmN0aW9uIHRvTWFya2Rvd24oKSB7XG4gIGlmIChwcmV2aWV3KSB7XG4gICAgdmFyIGNoYXJDb3VudCA9IGVkaXRldXIuZ2V0VmFsdWUoKS5sZW5ndGg7XG4gICAgaWYgKGNoYXJDb3VudCA8IDEwMDAwKSBtZCgpO1xuICAgIGVsc2UgaWYgKCF3YWl0Rm9yQ29udmVydCkge1xuICAgICAgd2FpdEZvckNvbnZlcnQgPSB0cnVlO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgd2FpdEZvckNvbnZlcnQgPSBmYWxzZTtcbiAgICAgICAgbWQoKTtcbiAgICAgIH0sIDE1MDApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBtZCgpIHtcbiAgdmFyIHRpdHJlID0gXCJcIjtcbiAgaWYgKCQoJyN0aXRsZScpLnZhbCgpICE9PSBcIlwiKSB0aXRyZSA9IFwiIyBcIiArICQoJyN0aXRsZScpLnZhbCgpICsgXCJcXG5cIjtcbiAgdmFyIGNvbnRlbnQgPSB0aXRyZSArIGVkaXRldXIuZ2V0VmFsdWUoKTtcbiAgLy9jb250ZW50ID0gY29udGVudC5yZXBsYWNlKC8oPChbXj5dKyk+KS9pZywgXCJcIik7XG4gIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoLyg8c2NyaXB0PikvaWcsIFwiW0phdmFzY3JpcHRdXFxuXCIpO1xuICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC8oPFxcL3NjcmlwdD4pL2lnLCBcIlxcblsvSmF2YXNjcmlwdF1cIik7XG4gIHZhciBtZENvbnRlbnQgPSBtYXJrZWQoY29udGVudCk7XG4gICQoXCIjdmlld1wiKS5odG1sKG1kQ29udGVudCk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZVByZXZpZXcoKSB7XG4gIGlmIChwcmV2aWV3KSB7XG4gICAgJCgnI2VkaXRvcicpLmFkZENsYXNzKCdtMTInKS5yZW1vdmVDbGFzcygnbTYnKTtcbiAgICAkKCcjdmlldycpLmhpZGUoKTtcbiAgICAkKFwiLmZhLWV5ZS1zbGFzaFwiKS5yZW1vdmVDbGFzcygnZmEtZXllLXNsYXNoJykuYWRkQ2xhc3MoJ2ZhLWV5ZScpO1xuXG4gIH0gZWxzZSB7XG4gICAgJCgnI2VkaXRvcicpLmFkZENsYXNzKCdtNicpLnJlbW92ZUNsYXNzKCdtMTInKTtcbiAgICAkKCcjdmlldycpLnNob3coKTtcbiAgICAkKFwiLmZhLWV5ZVwiKS5yZW1vdmVDbGFzcygnZmEtZXllJykuYWRkQ2xhc3MoJ2ZhLWV5ZS1zbGFzaCcpO1xuICAgIG1kKCk7XG4gIH1cbiAgcHJldmlldyA9ICFwcmV2aWV3O1xufVxuXG5mdW5jdGlvbiB0b2dnbGVOdW1iZXJlZFRpdGxlcygpIHtcbiAgJChcIiN2aWV3XCIpLnRvZ2dsZUNsYXNzKCdudW1iZXJlZC12aWV3Jyk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZUZ1bGxzY3JlZW4oKSB7XG4gIGlmIChlZGl0ZXVyLmdldE9wdGlvbihcImZ1bGxTY3JlZW5cIikpXG4gICAgZWRpdGV1ci5zZXRPcHRpb24oXCJmdWxsU2NyZWVuXCIsIGZhbHNlKTtcbiAgZWxzZSBlZGl0ZXVyLnNldE9wdGlvbihcImZ1bGxTY3JlZW5cIiwgdHJ1ZSk7XG4gICQoJy5idG4tZnVsbHNjcmVlbi1kaXNhYmxlJykudG9nZ2xlQ2xhc3MoJ2hpZGUnKTtcbn1cblxuZnVuY3Rpb24gcGFyYW1ldGVycygpIHtcbiAgaWYgKCQoXCIjbW9kYWwtcGFyYW1ldGVyc1wiKS5jc3MoJ2Rpc3BsYXknKSA9PSBcIm5vbmVcIilcbiAgICAkKCcjbW9kYWwtcGFyYW1ldGVycycpLm9wZW5Nb2RhbCgpO1xuICBlbHNlICQoJyNtb2RhbC1wYXJhbWV0ZXJzJykuY2xvc2VNb2RhbCgpO1xufVxuXG5mdW5jdGlvbiBnZXRUYWdzKCkge1xuICB2YXIgdGFnc1N0cmluZyA9ICQoXCIjdGFnc1wiKS52YWwoKTtcbiAgdmFyIHRhZ3MgPSB0YWdzU3RyaW5nLnNwbGl0KC9bLDtdICovKTtcbiAgcmV0dXJuIHRhZ3Muam9pbignLCAnKTtcbn1cblxuLy9HZXN0aW9uIGRlcyB0b3VjaGVzIGNsYXZpZXJzIHNww6ljaWFsZXNcbiQoXCJ0ZXh0YXJlYVwiKS5rZXlkb3duKGZ1bmN0aW9uKGUpIHtcbiAgLy8gVGFidWxhdGlvbiBkYW5zIGwnw6lkaXRldXJcbiAgaWYgKGUua2V5Q29kZSA9PT0gOSkge1xuICAgIHZhciBzdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG4gICAgdmFyIGVuZCA9IHRoaXMuc2VsZWN0aW9uRW5kO1xuICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgdmFyIHZhbHVlID0gJHRoaXMudmFsKCk7XG4gICAgJHRoaXMudmFsKHZhbHVlLnN1YnN0cmluZygwLCBzdGFydCkgKyBcIlxcdFwiICsgdmFsdWUuc3Vic3RyaW5nKFxuICAgICAgZW5kKSk7XG4gICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IHRoaXMuc2VsZWN0aW9uRW5kID0gc3RhcnQgKyAxO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxufSk7XG4kKGRvY3VtZW50KS5rZXlkb3duKGZ1bmN0aW9uKGUpIHtcbiAgY29uc29sZS5sb2coZS5rZXlDb2RlKTtcbiAgaWYgKGUuY3RybEtleSkge1xuICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgICAvL0NUUkwrUyA6IFNhdXZlZ2FyZGUgbWFudWVsbGVcbiAgICAgIGNhc2UgODM6XG4gICAgICAgIHNlbmQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vQ1RSTCtPIDogVG9nZ2xlIFByZXZpZXdcbiAgICAgIGNhc2UgNzk6XG4gICAgICAgIHRvZ2dsZVByZXZpZXcoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDgwOlxuICAgICAgICB0b2dnbGVGdWxsc2NyZWVuKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
